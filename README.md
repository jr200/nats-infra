# nats-infra

## Scripts


### scripts/nats-dev-bridge.sh

This script creates a local NATS operator, account, and user in a local development environment. It then imports the account credentials *into* a running NATS server. This allows users generated by the local account to access resources on the NATS server--as granted by the account and user permissions/limits.

First set some required environment variables.

```bash
export OPERATOR_NAME=local-operator
export ACCOUNT_NAME=MY-TEAM
export USER_NAME=static-user
export NATS_CONTAINER=infra-team-nats-1
export NSC_CONTAINER=infra-team-nsc-admin-1
export NATS_URL=nats://127.0.0.1:4222
export CONTAINER_CLI=podman
```

Then run the script to setup the operator, account and user credentials. The user credentials will be output to stdout.
```bash
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/jr200/nats-infra/main/scripts/nats-dev-bridge.sh)" > user.creds
```